import{b as w,r as l,a as d,j as e}from"./index-f8ce0361.js";import{c as v,a as m,F as E,b as T,E as x,d as p}from"./index.esm-401c4d7c.js";import{T as F}from"./TopBar-f8354a5c.js";import{M as k}from"./index-db8e1e07.js";function R(){const{lid:c,nid:n}=w(),[o,s]=l.useState({id:0,title:"",content:""}),[h,u]=l.useState(!0);l.useEffect(()=>{console.log("ðŸš€ ~ file: EditNote.tsx:17 ~ EditNote ~ NID:",n),console.log("note.title ===>",o.title),n!=="0"&&g(n)},[]);const g=async a=>{await d.post("/api/users/layouts/notes/getNote/"+a).then(i=>{s(i.data),console.log("TTTHEEE NOTE",o)})},b=()=>{const a=async r=>{console.log("ðŸš€ ~ file: EditNote.tsx:44 ~ onSubmit ~ data:",r),o.id===0?await d.post(`/api/users/layouts/notes/createNote/${c}`,r).then(t=>{s(t.data),console.log("response data:",t.data)}):await d.put(`/api/users/layouts/notes/changeNote/${c}`,r).then(t=>{s(t.data),console.log("response data:",t.data)})},i=({field:r,...t})=>e.jsx(e.Fragment,{children:e.jsx("textarea",{...r,...t,placeholder:"write here....",defaultValue:o.content,className:"p-3 m-1 w-full h-[90%] resize-none border-2 border-gray-300 outline-blue-400 bg-white/80 rounded-lg"})}),N=({field:r,...t})=>e.jsx(e.Fragment,{children:e.jsx("input",{...r,...t,className:"px-4 py-1 mb-2 w-full rounded-full border-2 border-gray-300 outline-blue-400 bg-white/80",defaultValue:o.title,type:"text",placeholder:"Title"})}),f={title:o.title,content:o.content},y=v().shape({title:m().min(1).max(50).required("Title required"),content:m().min(1).required("Text area couldn't be empty")});return e.jsx(E,{initialValues:f,onSubmit:a,validationSchema:y,children:e.jsxs(T,{id:"text-editing-area",className:"mx-auto min-h-[100vh] h-[90vh] min-w-[370px] w-[60vw] rounded-lg",children:[e.jsx(x,{name:"title",component:"span",className:"text-xs text-red-700"}),e.jsx(p,{name:"title",type:"text",component:N}),e.jsx(x,{name:"content",component:"span",className:"text-xs text-red-700"}),e.jsx(p,{name:"content",component:i}),e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"relative mx-2 px-3 py-1 right-0 border border-gray-500 rounded-lg hover:cursor-pointer",children:"render"}),e.jsx("button",{type:"submit",className:"relative mx-2 px-3 py-1 right-0 border border-gray-500 rounded-lg hover:cursor-pointer",children:"submit"})]})]})})},j=()=>e.jsxs("div",{className:"mx-auto h-[100vh] min-w-[370px] w-[60vw] ",children:[e.jsx("div",{className:"p-3 m-1 w-full h-[95%] border-2 rounded-lg",children:e.jsx(k,{children:o.content})}),e.jsx("button",{type:"button",onClick:()=>u(!0),className:" mx-2 px-3 py-1 right-0 border border-gray-500 rounded-lg hover:cursor-pointer",children:"edit"})]});return e.jsxs(e.Fragment,{children:[e.jsx(F,{}),h?e.jsx(b,{}):e.jsx(j,{})]})}export{R as default};
